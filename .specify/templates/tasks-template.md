---
description: "機能実装用のタスクリストテンプレート"
---

# タスク

| 項目 | 内容 |
|------|------|
| **機能名** | [FEATURE NAME] |
| **ブランチ** | `[###-feature-name]` |
| **日付** | [DATE] |
| **入力** | `/specs/[###-feature-name]/` の設計ドキュメント |
| **前提条件** | plan.md（必須）、spec.md（ユーザーストーリーに必須）、research.md、data-model.md、contracts/ |

## 📑 目次

<!-- 目次ルール: H2レベルのみ含める -->

- [1. フォーマット凡例](#-1-フォーマット凡例)
- [2. パス規約](#-2-パス規約)
- [3. Phase](#-3-phase)
- [4. 依存関係と実行順序](#-4-依存関係と実行順序)
- [5. 実装戦略](#-5-実装戦略)
- [6. 注意事項](#-6-注意事項)

**テスト**: 以下の例にはテストタスクが含まれています。テストはオプションです - 機能仕様で明示的に要求された場合のみ含めてください。

**構成**: タスクはユーザーストーリーごとにグループ化され、各ストーリーの独立した実装とテストを可能にします。

## 📖 1. フォーマット凡例

**ストーリーID凡例**:

| ID | spec.md参照 | 説明 |
|----|-------------|------|
| `US1` | §2.1 | ユーザーストーリー1。spec.mdのセクション2.1に対応 |
| `US2` | §2.2 | ユーザーストーリー2。spec.mdのセクション2.2に対応 |
| `US3` | §2.3 | ユーザーストーリー3。spec.mdのセクション2.3に対応 |

**優先度凡例**:

| 優先度 | 意味 | 説明 |
|--------|------|------|
| P1 | 必須 | MVPに必須。これがないとリリースできない |
| P2 | 重要 | MVPに含めたい。時間が許せば実装 |
| P3 | あれば良い | 将来の拡張として検討。今回は実装しない可能性あり |

**タスク記法**: `[ID] [P?] [Story] 説明`

| 記法 | 意味 | 説明 |
|------|------|------|
| `[P]` | 並列実行可能 | 異なるファイル、依存関係なし |
| `[US1]` `[US2]`... | ストーリーID | spec.md §2.x と対応するユーザーストーリー |
| `T001` `T002`... | タスクID | 連番でタスクを識別 |

## 📁 2. パス規約

| プロジェクトタイプ | ソースパス | テストパス |
|-------------------|-----------|-----------|
| 単一プロジェクト | `src/` | `tests/` |
| Webアプリ | `backend/src/`、`frontend/src/` | `backend/tests/`、`frontend/tests/` |
| モバイル | `api/src/`、`ios/src/` または `android/src/` | 各ディレクトリ内の `tests/` |

> 以下のパスは単一プロジェクトを想定 - plan.mdの構造に基づいて調整してください

<!-- 
  ============================================================================
  重要: 以下のタスクは説明目的のサンプルタスクです。
  
  /speckit.tasks コマンドはこれらを以下に基づいた実際のタスクに置き換える必要があります:
  - spec.mdのユーザーストーリー（優先度P1, P2, P3...を含む）
  - plan.mdの機能要件
  - data-model.mdのエンティティ
  - contracts/のエンドポイント
  
  タスクは各ストーリーが以下を可能にするためにユーザーストーリーごとに整理する必要があります:
  - 独立して実装可能
  - 独立してテスト可能
  - MVPインクリメントとして提供可能
  
  生成されたtasks.mdファイルにこれらのサンプルタスクを残さないでください。
  ============================================================================
-->

## 🚀 3. Phase

### Phase 1: セットアップ（共有インフラストラクチャ）

**目的**: プロジェクトの初期化と基本構造

- [ ] T001 実装計画に従ってプロジェクト構造を作成
- [ ] T002 [言語]プロジェクトを[フレームワーク]依存関係で初期化
- [ ] T003 [P] リンティングとフォーマットツールを設定

### Phase 2: 基盤（ブロッキング前提条件）

**目的**: すべてのユーザーストーリーを実装する前に完了する必要があるコアインフラストラクチャ

**⚠️ 重要**: このフェーズが完了するまでユーザーストーリーの作業を開始できません

基盤タスクの例（プロジェクトに基づいて調整）:

- [ ] T004 データベーススキーマとマイグレーションフレームワークをセットアップ
- [ ] T005 [P] 認証/認可フレームワークを実装
- [ ] T006 [P] APIルーティングとミドルウェア構造をセットアップ
- [ ] T007 すべてのストーリーが依存するベースモデル/エンティティを作成
- [ ] T008 エラーハンドリングとロギングインフラストラクチャを設定
- [ ] T009 環境設定管理をセットアップ

> **✅ チェックポイント**: 基盤準備完了 - ユーザーストーリーの実装を並列で開始可能

### Phase 3: US1 - [タイトル] [P1]

**目標**: [このストーリーが提供するものの簡潔な説明]

**独立テスト**: [このストーリーが単独で動作することを確認する方法]

#### US1のテスト（オプション）

> **注意: これらのテストを最初に書き、実装前に失敗することを確認してください**

- [ ] T010 [P] [US1] tests/contract/test_[name].pyに[エンドポイント]のコントラクトテスト
- [ ] T011 [P] [US1] tests/integration/test_[name].pyに[ユーザージャーニー]の統合テスト

#### US1の実装

- [ ] T012 [P] [US1] src/models/[entity1].pyに[Entity1]モデルを作成
- [ ] T013 [P] [US1] src/models/[entity2].pyに[Entity2]モデルを作成
- [ ] T014 [US1] src/services/[service].pyに[Service]を実装（T012, T013に依存）
- [ ] T015 [US1] src/[location]/[file].pyに[エンドポイント/機能]を実装
- [ ] T016 [US1] バリデーションとエラーハンドリングを追加
- [ ] T017 [US1] ユーザーストーリー1の操作のロギングを追加

> **✅ チェックポイント**: US1が完全に機能し、独立してテスト可能

### Phase 4: US2 - [タイトル] [P2]

**目標**: [このストーリーが提供するものの簡潔な説明]

**独立テスト**: [このストーリーが単独で動作することを確認する方法]

#### US2のテスト（オプション）

- [ ] T018 [P] [US2] tests/contract/test_[name].pyに[エンドポイント]のコントラクトテスト
- [ ] T019 [P] [US2] tests/integration/test_[name].pyに[ユーザージャーニー]の統合テスト

#### US2の実装

- [ ] T020 [P] [US2] src/models/[entity].pyに[Entity]モデルを作成
- [ ] T021 [US2] src/services/[service].pyに[Service]を実装
- [ ] T022 [US2] src/[location]/[file].pyに[エンドポイント/機能]を実装
- [ ] T023 [US2] ユーザーストーリー1のコンポーネントと統合（必要な場合）

> **✅ チェックポイント**: US1とUS2の両方が独立して動作

### Phase 5: US3 - [タイトル] [P3]

**目標**: [このストーリーが提供するものの簡潔な説明]

**独立テスト**: [このストーリーが単独で動作することを確認する方法]

#### US3のテスト（オプション）

- [ ] T024 [P] [US3] tests/contract/test_[name].pyに[エンドポイント]のコントラクトテスト
- [ ] T025 [P] [US3] tests/integration/test_[name].pyに[ユーザージャーニー]の統合テスト

#### US3の実装

- [ ] T026 [P] [US3] src/models/[entity].pyに[Entity]モデルを作成
- [ ] T027 [US3] src/services/[service].pyに[Service]を実装
- [ ] T028 [US3] src/[location]/[file].pyに[エンドポイント/機能]を実装

> **✅ チェックポイント**: すべてのユーザーストーリーが独立して機能

[必要に応じて同じパターンでユーザーストーリーフェーズを追加: Phase 6: US4, Phase 7: US5...]

### Phase 8: 仕上げとクロスカッティング関心事

**目的**: 複数のユーザーストーリーに影響を与える改善

- [ ] TXXX [P] docs/のドキュメント更新
- [ ] TXXX コードクリーンアップとリファクタリング
- [ ] TXXX 全ストーリーのパフォーマンス最適化
- [ ] TXXX [P] 追加のユニットテスト（要求された場合）tests/unit/
- [ ] TXXX セキュリティ強化
- [ ] TXXX quickstart.md検証を実行

## 🔗 4. 依存関係と実行順序

### 4.1 フェーズの依存関係

| フェーズ | 依存先 | 説明 |
|---------|--------|------|
| Phase 1: セットアップ | なし | すぐに開始可能 |
| Phase 2: 基盤 | Phase 1 | すべてのユーザーストーリーをブロック |
| Phase 3+: US | Phase 2 | 優先度順に順次または並列で進行可能 |
| Phase 8: 仕上げ | 全US | すべてのユーザーストーリー完了後 |

### 4.2 ユーザーストーリーの依存関係

| ストーリー | 優先度 | 依存先 | 備考 |
|-----------|--------|--------|------|
| US1 | P1 | Phase 2 | 独立して実装可能 |
| US2 | P2 | Phase 2 | US1と統合の可能性あり、独立テスト必須 |
| US3 | P3 | Phase 2 | US1/US2と統合の可能性あり、独立テスト必須 |

### 4.3 各ユーザーストーリー内

- テスト（含まれる場合）は実装前に書かれ、失敗する必要がある
- サービスの前にモデル
- エンドポイントの前にサービス
- 統合の前にコア実装
- 次の優先度に移る前にストーリー完了

### 4.4 並列化の機会

- `[P]`マークされたタスクは並列実行可能
- Phase 2完了後、複数のユーザーストーリーを並列開始可能（チームキャパシティがあれば）

## 🎯 5. 実装戦略

### 5.1 MVPファースト（US1のみ）

1. Phase 1: セットアップを完了
2. Phase 2: 基盤を完了（重要 - すべてのストーリーをブロック）
3. Phase 3: US1を完了
4. **停止して検証**: US1を独立してテスト
5. 準備ができたらデプロイ/デモ

### 5.2 インクリメンタルデリバリー

1. セットアップ + 基盤を完了 → 基盤準備完了
2. US1を追加 → 独立してテスト → デプロイ/デモ（MVP!）
3. US2を追加 → 独立してテスト → デプロイ/デモ
4. US3を追加 → 独立してテスト → デプロイ/デモ
5. 各ストーリーは以前のストーリーを壊さずに価値を追加

### 5.3 並列チーム戦略

複数の開発者がいる場合:

1. チームがセットアップ + 基盤を一緒に完了
2. 基盤が完了したら:
   - 開発者A: US1
   - 開発者B: US2
   - 開発者C: US3
3. ストーリーは独立して完了し統合

## 📌 6. 注意事項

### ⚙️ 記法ルール

- `[P]`タスク = 異なるファイル、依存関係なし
- `[USn]`ラベル = タスクをspec.mdのユーザーストーリーにマップ

### ⚠️ 必須ルール

- 各ユーザーストーリーは独立して完了可能でテスト可能である必要がある
- 実装前にテストが失敗することを確認（TDD）
- 各タスクまたは論理的なグループの後にコミット
- 任意のチェックポイントで停止してストーリーを独立して検証

### ❌ 避けること

- 曖昧なタスク
- 同じファイルの競合
- 独立性を壊すストーリー間の依存関係
